// RUN: not @calcc --nomain --notarget -e "10" -S -o %t.bc 2>&1 | @filecheck %s --check-prefix=CHECK_A
// RUN: not @calcc --nomain --notarget -e "10"    -o %t.ll 2>&1 | @filecheck %s --check-prefix=CHECK_B

// RUN: @calcc --nomain --notarget -e "10" -S -o %t0.ll  &&  @llvm-as  -o %t0.bc %t0.ll
// RUN: @calcc --nomain --notarget -e "10"    -o %t1.bc  &&  @llvm-dis -o %t1.ll %t1.bc
// RUN: @count -l %t0.ll | @filecheck %s --check-prefix=CHECK_C
// RUN: @count -l %t1.ll | @filecheck %s --check-prefix=CHECK_C
// RUN: @count -l %t0.bc | @filecheck %s --check-prefix=CHECK_C
// RUN: @count -l %t1.bc | @filecheck %s --check-prefix=CHECK_C

// CHECK_A: LLVM IR file type (with '-S' flag) should match output name ('.ll' extension)
// CHECK_B: Bytecode file type (missing '-S' flag) should match output name ('.bc' extension)

// CHECK_C-NOT: ^0
